(()=>{"use strict";var e=null,t=null,n={width:1280,height:720};function o(){let t=window.innerWidth,o=window.innerHeight;n.width=t,n.height=o,e.canvas.width=t,e.canvas.height=o}!function(){if(e&&t)return;let n=document.getElementById("editor-canvas");e=n?.getContext("2d"),t=document.getElementById("editor-window"),o(),addEventListener("resize",o)}();const l={x:0,y:0};addEventListener("mousemove",(function(e){l.x=e.clientX,l.y=e.clientY}));const r="qwsertyuiopasdfghjklzxcvbnbmQWERETYUIOPASDFDGHJKJLZXCXVBNBM123454567890";function i(e=16){let t="";for(;t.length<e;)t+=r.charAt(Math.random()*r.length);return t}var c=[];function d(e){let n=function(e){return"string"!=typeof e?e:c.find((t=>t.token==e))}(e);if(!n)return;let o=document.getElementById(`block-${n.token}`);return o||(o=function(e){let n=document.createElement("div");return n.classList.add("block-element"),n.id=`block-${e.token}`,t.appendChild(n),n}(n)),o}function u(e,t,n){t=t||l.x,n=n||l.y;let o={token:i(),type:e,inputNodes:[],outputNodes:[],x:t,y:n};return c.push(o),function(e){d(e)}(o),o}function s(e){if(function(e){let t=d(e);t&&t.remove()}(e),"string"==typeof e)return c=c.filter(((t,n)=>t.token!=e)),!0;{const t=c.indexOf(e);if(-1!==t)return c.splice(t,1),!0}return!1}var a,y=1;function f(e,t){try{t()?console.log(`✔️ Test ${y} "${e}" passed`):console.log(`❌ Test ${y} "${e}" failed`)}catch(t){console.log(`❌ Test ${y} "${e}" failed: ${t}`)}y++}f("create block",(()=>"Player joined"==(a=u("Player joined")).type)),f("destroy block",(()=>s(a))),f("destroy block via token",(()=>s(a.token))),f("destroy invalid block",(()=>!s(null))),f("create block at cursor position",(()=>{let e=(a=u("Player joined")).x==l.x&&a.y==l.y;return s(a),e})),f("create block at 50x50 position",(()=>{let e=50==(a=u("Player joined",50,50)).x&&50==a.y;return s(a),e})),f("created block should create DOM element",(()=>{a=u("Player joined",50,50);let e=document.getElementById(`block-${a.token}`);return s(a),!!e})),f("destroying block should delete DOM element",(()=>{a=u("Player joined",50,50);let e=document.getElementById(`block-${a.token}`);s(a);let t=document.getElementById(`block-${a.token}`);return e&&!t})),f("create block for testing frontend purposes",(()=>!!(a=u("Player joined",50,50))))})();